@use '@/shared/styles/variables' as *;

@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes slideUp {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes pulse {
	0%,
	100% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.05);
	}
}

.takeTestPage {
	min-height: 100vh;
	padding: 40px 0;
	animation: fadeIn 0.5s ease-out;
}

.container {
	max-width: 900px;
	margin: 0 auto;
}

.resultsContainer {
	animation: fadeIn 0.6s ease-out;
}

.resultsHeader {
	text-align: center;
	margin-bottom: 40px;
	animation: slideUp 0.6s ease-out;
}

.trophyIcon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 80px;
	height: 80px;
	background: linear-gradient(135deg, #fef3c7, #fcd34d);
	border-radius: 50%;
	margin-bottom: 20px;
	animation: pulse 2s ease-in-out infinite;

	svg {
		color: #b45309;
	}
}

.resultsTitle {
	font-size: 36px;
	font-weight: 700;
	color: $color-gray-dark;
	margin: 0 0 12px 0;

	@media (max-width: 768px) {
		font-size: 28px;
	}
}

.resultsSubtitle {
	font-size: 18px;
	color: $color-gray-medium;
	margin: 0;
}

.passedText {
	color: $color-green-primary;
	font-weight: 600;
}

.failedText {
	color: $color-red-error;
	font-weight: 600;
}

.resultsCard {
	background: white;
	border-radius: 24px;
	box-shadow:
		0 4px 6px -1px rgba(0, 0, 0, 0.1),
		0 20px 40px -10px rgba(0, 0, 0, 0.15);
	padding: 48px;
	margin-bottom: 40px;
	animation: slideUp 0.6s ease-out 0.1s both;

	@media (max-width: 768px) {
		padding: 28px;
	}
}

.scoreSection {
	text-align: center;
	margin-bottom: 40px;
}

.scoreCircle {
	position: relative;
	width: 180px;
	height: 180px;
	margin: 0 auto 24px;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	background: conic-gradient(
		currentColor 0deg calc(var(--score-percentage) * 3.6deg),
		$color-gray-light calc(var(--score-percentage) * 3.6deg) 360deg
	);

	&.excellent {
		color: #10b981;
	}
	&.good {
		color: $color-green-primary;
	}
	&.average {
		color: #f59e0b;
	}
	&.poor {
		color: $color-red-error;
	}

	@media (max-width: 768px) {
		width: 150px;
		height: 150px;
	}
}

.scoreInner {
	position: absolute;
	width: 150px;
	height: 150px;
	background: white;
	border-radius: 50%;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.05);

	@media (max-width: 768px) {
		width: 120px;
		height: 120px;
	}
}

.scoreValue {
	font-size: 42px;
	font-weight: 700;
	color: $color-gray-dark;
	line-height: 1;

	span {
		font-size: 20px;
		color: $color-gray-medium;
		font-weight: 500;
	}

	@media (max-width: 768px) {
		font-size: 32px;

		span {
			font-size: 16px;
		}
	}
}

.scorePercentage {
	font-size: 16px;
	font-weight: 600;
	color: $color-gray-medium;
	margin-top: 4px;
}

.gradeLabel {
	font-size: 22px;
	font-weight: 700;
	padding: 10px 28px;
	border-radius: 30px;
	display: inline-block;

	&.excellent {
		background: rgba(#10b981, 0.1);
		color: #059669;
	}
	&.good {
		background: rgba($color-green-primary, 0.1);
		color: $color-green-dark;
	}
	&.average {
		background: rgba(#f59e0b, 0.1);
		color: #b45309;
	}
	&.poor {
		background: rgba($color-red-error, 0.1);
		color: #b91c1c;
	}
}

.statsGrid {
	display: grid;
	grid-template-columns: repeat(4, 1fr);
	gap: 16px;
	margin-bottom: 36px;

	@media (max-width: 768px) {
		grid-template-columns: repeat(2, 1fr);
	}
}

.statCard {
	display: flex;
	align-items: center;
	gap: 14px;
	padding: 20px;
	background: $color-gray-light;
	border-radius: 16px;
	transition: all 0.25s ease;

	&:hover {
		transform: translateY(-4px);
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
	}
}

.statIcon {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 48px;
	height: 48px;
	background: rgba($color-green-primary, 0.15);
	border-radius: 12px;
	color: $color-green-primary;
	flex-shrink: 0;

	&.error {
		background: rgba($color-red-error, 0.15);
		color: $color-red-error;
	}

	&.time {
		background: rgba(#6366f1, 0.15);
		color: #6366f1;
	}

	&.target {
		background: rgba(#f59e0b, 0.15);
		color: #f59e0b;
	}
}

.statInfo {
	flex: 1;
	min-width: 0;
}

.statLabel {
	font-size: 13px;
	color: $color-gray-medium;
	margin-bottom: 4px;
}

.statValue {
	font-size: 22px;
	font-weight: 700;
	color: $color-gray-dark;
}

.resultsButtons {
	display: flex;
	gap: 16px;
	justify-content: center;

	@media (max-width: 768px) {
		flex-direction: column;
	}
}

.primaryButton,
.secondaryButton {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 10px;
	padding: 16px 32px;
	font-weight: 600;
	font-size: 16px;
	border-radius: 14px;
	transition: all 0.25s ease;

	@media (max-width: 768px) {
		width: 100%;
	}
}

.primaryButton {
	background: linear-gradient(
		135deg,
		$color-green-primary 0%,
		$color-green-dark 100%
	);
	color: white;
	border: none;

	&:hover {
		transform: translateY(-3px);
		box-shadow: 0 12px 28px rgba($color-green-primary, 0.4);
	}
}

.secondaryButton {
	background: white;
	color: $color-green-dark;
	border: 2px solid $color-green-primary;

	&:hover {
		background: $color-green-lightest;
		transform: translateY(-3px);
		color: white;
	}
}
